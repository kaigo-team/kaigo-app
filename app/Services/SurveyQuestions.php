<?php

namespace App\Services;

/**
 * 調査項目と回答選択肢を管理するクラス
 */
class SurveyQuestions
{
    /**
     * 中間得点データ
     * 各調査項目の回答に対する中間得点を定義
     * 
     * @var array
     */
    private static $intermediateScores = [
        // 第1群 身体機能・起居動作
        '1-1' => [ // 麻痺
            'ない' => 6.5,
            'いずれか一肢のみ' => 5.5,
            '両下肢のみ' => 3.9,
            '左上下肢あるいは右上下肢' => 3.3,
            'その他の四肢の麻痺' => 0
        ],
        '1-2_肩関節' => [ // 拘縮（肩関節）
            'ない' => 2.3,
            'ある' => 0
        ],
        '1-2_股関節' => [ // 拘縮（股関節）
            'ない' => 2.7,
            'ある' => 0
        ],
        '1-2_膝関節' => [ // 拘縮（膝関節）
            'ない' => 1.1,
            'ある' => 0
        ],
        '1-3' => [ // 寝返り
            'つかまらないでできる' => 9.0,
            '何かにつかまればできる' => 6.5,
            'できない' => 0
        ],
        '1-4' => [ // 起き上がり
            'つかまらないでできる' => 8.8,
            '何かにつかまればできる' => 6.7,
            'できない' => 0
        ],
        '1-5' => [ // 座位保持
            'できる' => 10.0,
            '自分の手で支えればできる' => 8.4,
            '支えてもらえればできる' => 4.7,
            'できない' => 0
        ],
        '1-6' => [ // 両足での立位
            'つかまらないでできる' => 8.7,
            '何かにつかまればできる' => 6.2,
            'できない' => 0
        ],
        '1-7' => [ // 歩行
            'つかまらないでできる' => 7.6,
            '何かにつかまればできる' => 5.5,
            'できない' => 0
        ],
        '1-8' => [ // 立ち上がり
            'つかまらないでできる' => 9.7,
            '何かにつかまればできる' => 7.1,
            'できない' => 0
        ],
        '1-9' => [ // 片足での立位
            'つかまらないでできる' => 7.3,
            '何かにつかまればできる' => 5.4,
            'できない' => 0
        ],
        '1-10' => [ // 洗身
            'できる' => 6.2,
            'できない所もある' => 4.4,
            'できない' => 0,
            '入浴していない' => 0
        ],
        '1-11' => [ // つめ切り
            'できる' => 4.1,
            'できない所もある' => 2.8,
            'できない' => 0,
            'していない' => 0
        ],
        '1-12' => [ // 視力
            '生活に支障がない' => 5.2,
            '1mくらい離れた物は見える' => 4.0,
            '手に取れば見える' => 2.9,
            'ほとんど見えない' => 0,
            '見えているのかわからない' => 0
        ],
        '1-13' => [ // 聴力
            '生活に支障がない' => 10.8,
            '普通の声がやっと聴き取れる' => 10.6,
            '大きな声なら聴き取れる' => 9.8,
            'ほとんど聴こえない' => 9.0,
            '聴こえているのかわからない' => 0
        ],

        // 第2群 生活機能
        '2-1' => [ // 移乗
            'できる' => 9.1,
            'できるが不安' => 6.9,
            '少し手を借りればできる' => 3.5,
            'しっかり支えてもらえればできる' => 0
        ],
        '2-2' => [ // 移動
            'できる' => 8.1,
            'できるが不安' => 6.4,
            '少し手を借りればできる' => 3.7,
            'しっかり支えてもらえればできる' => 0
        ],
        '2-3' => [ // 嚥下
            'できる' => 10.2,
            'むせこむ事がある' => 7.2,
            'できない' => 0
        ],
        '2-4' => [ // 食事摂取
            'できる' => 9.8,
            'できるが不安' => 6.8,
            '少し手を借りればできる' => 4.6,
            '食べさせてもらっている' => 0
        ],
        '2-5' => [ // 排尿
            'できる' => 7.2,
            'できるが不安' => 5.9,
            '少し手を借りればできる' => 5.1,
            '手伝ってもらえばできる' => 0
        ],
        '2-6' => [ // 排便
            'できる' => 7.2,
            'できるが不安' => 5.7,
            '少し手を借りればできる' => 4.9,
            '手伝ってもらえばできる' => 0
        ],
        '2-7' => [ // 口腔清潔
            'できる' => 9.3,
            '少し手を借りればできる' => 5.2,
            '手伝ってもらえばできる' => 0
        ],
        '2-8' => [ // 洗顔
            'できる' => 9.0,
            '少し手を借りればできる' => 5.1,
            '手伝ってもらえばできる' => 0
        ],
        '2-9' => [ // 整髪
            'できる' => 7.9,
            '少し手を借りればできる' => 4.1,
            '手伝ってもらえばできる' => 0
        ],
        '2-10' => [ // 上衣の着脱
            'できる' => 9.4,
            '少し手を借りればできる' => 5.7,
            '手伝ってもらえばできる' => 0
        ],
        '2-11' => [ // ズボン等の着脱
            'できる' => 8.7,
            '少し手を借りればできる' => 5.4,
            '手伝ってもらえばできる' => 0
        ],
        '2-12' => [ // 外出頻度
            '週1回以上ある' => 4.1,
            '月1回以上ある' => 3.4,
            '月1回未満' => 0
        ],

        // 第3群 認知機能
        '3-1' => [ // 意思の伝達
            '意思を伝達できる' => 17.7,
            'ときどき伝達できる' => 12.5,
            'ほとんど伝達できない' => 4.2,
            'できない' => 0
        ],
        '3-2' => [ // 毎日の日課を理解
            'できる' => 7.6,
            'できない' => 0
        ],
        '3-3' => [ // 生年月日を言う
            'できる' => 11.3,
            'できない' => 0
        ],
        '3-4' => [ // 短期記憶
            'できる' => 7.0,
            'できない' => 0
        ],
        '3-5' => [ // 自分の名前を言う
            'できる' => 16.3,
            'できない' => 0
        ],
        '3-6' => [ // 今の季節を理解
            'できる' => 9.1,
            'できない' => 0
        ],
        '3-7' => [ // 場所の理解
            'できる' => 11.6,
            'できない' => 0
        ],
        '3-8' => [ // 徘徊
            'ない' => 9.5,
            '月2から3回ほどある' => 2.7,
            '毎日のようにある' => 0
        ],
        '3-9' => [ // 外出して戻れない
            'ない' => 9.9,
            '月2から3回ほどある' => 4.7,
            '毎日のようにある' => 0
        ],

        // 第4群 精神・行動障害
        '4-1' => [ // 被害的
            'ない' => 7.0,
            '月2から3回ほどある' => 3.2,
            '毎日のようにある' => 0
        ],
        '4-2' => [ // 作話
            'ない' => 8.2,
            '月2から3回ほどある' => 3.4,
            '毎日のようにある' => 0
        ],
        '4-3' => [ // 感情が不安定
            'ない' => 5.0,
            '月2から3回ほどある' => 2.5,
            '毎日のようにある' => 0
        ],
        '4-4' => [ // 昼夜逆転
            'ない' => 4.2,
            '月2から3回ほどある' => 1.9,
            '毎日のようにある' => 0
        ],
        '4-5' => [ // 同じ話をする
            'ない' => 4.9,
            '月2から3回ほどある' => 3.0,
            '毎日のようにある' => 0
        ],
        '4-6' => [ // 大声をだす
            'ない' => 7.0,
            '月2から3回ほどある' => 2.8,
            '毎日のようにある' => 0
        ],
        '4-7' => [ // 介護に抵抗
            'ない' => 6.1,
            '月2から3回ほどある' => 2.4,
            '毎日のようにある' => 0
        ],
        '4-8' => [ // 落ち着きなし
            'ない' => 7.8,
            '月2から3回ほどある' => 2.1,
            '毎日のようにある' => 0
        ],
        '4-9' => [ // 一人で出たがる
            'ない' => 8.7,
            '月2から3回ほどある' => 2.3,
            '毎日のようにある' => 0
        ],
        '4-10' => [ // 収集癖
            'ない' => 8.3,
            '月2から3回ほどある' => 1.6,
            '毎日のようにある' => 0
        ],
        '4-11' => [ // 物や衣類を隠す
            'ない' => 10.7,
            '月2から3回ほどある' => 2.3,
            '毎日のようにある' => 0
        ],
        '4-12' => [ // ひどい物忘れ
            'ない' => 4.0,
            '月2から3回ほどある' => 3.3,
            '毎日のようにある' => 0
        ],
        '4-13' => [ // 独り言・独り笑い
            'ない' => 6.5,
            '月2から3回ほどある' => 2.3,
            '毎日のようにある' => 0
        ],
        '4-14' => [ // 自分勝手に行動する
            'ない' => 6.3,
            '月2から3回ほどある' => 3.0,
            '毎日のようにある' => 0
        ],
        '4-15' => [ // 話がまとまらない
            'ない' => 5.3,
            '月2から3回ほどある' => 1.9,
            '毎日のようにある' => 0
        ],

        // 第5群 社会生活への適応
        '5-1' => [ // 薬の内服
            'できる' => 21.2,
            '少し手を借りればできる' => 9.9,
            '手伝ってもらえばできる' => 0
        ],
        '5-2' => [ // 金銭の管理
            'できる' => 18.2,
            '少し手を借りればできる' => 9.5,
            '手伝ってもらえばできる' => 0
        ],
        '5-3' => [ // 日常の意思決定
            'できる' => 22.5,
            '特別な場合を除いてできる' => 13.7,
            'ほぼできない' => 5.5,
            'できない' => 0
        ],
        '5-4' => [ // 集団への不適応
            'ない' => 6.1,
            '月2から3回ほどある' => 1.8,
            '毎日のようにある' => 0
        ],
        '5-5' => [ // 買い物
            'できる' => 16.6,
            'できるが不安' => 9.2,
            '少し手を借りればできる' => 7.4,
            '手伝ってもらえばできる' => 0
        ],
        '5-6' => [ // 簡単な調理
            'できる' => 15.4,
            'できるが不安' => 9.0,
            '少し手を借りればできる' => 8.6,
            '手伝ってもらえばできる' => 0
        ]
    ];
    /**
     * 調査項目のグループを取得
     * 
     * @return array 調査項目のグループ一覧
     */
    public static function getGroups(): array
    {
        return [
            1 => '第1群　基本動作・起居動作機能の変化',
            2 => '第2群　生活機能（ADL・IADL）',
            3 => '第3群　認知機能（記憶・意思疎通）',
            4 => '第4群　社会的行動の評価',
            5 => '第5群　社会生活適応に関する評価',
            6 => '第6群　特別な医療行為',
            7 => '日常生活自立度（調査員）',
            8 => '主治医意見書（調査員）',
        ];
    }

    /**
     * 全ての調査項目を取得
     * 
     * @return array 調査項目の配列
     */
    public static function getAllQuestions(): array
    {
        return [
            // 第1群
            '1-1' => [
                'title' => '触った感覚が感じにくい所はありますか｡',
                'options' => ['ない', '左手', '右手', '左足', '右足', '欠損している'],
                'type' => 'checkbox',
            ],
            '1-2' => [
                'title' => '関節が痛みで動かせなかったり、動かしにくい所はありますか｡',
                'options' => ['肩関節', '股関節', '膝関節', '欠損している'],
                'type' => 'checkbox',
            ],
            '1-3' => [
                'title' => '一人で寝返りができますか｡',
                'options' => ['つかまらないでできる', '何かにつかまればできる', 'できない'],
                'type' => 'radio',
            ],
            '1-4' => [
                'title' => '一人で寝たり起きたりができますか｡',
                'options' => ['つかまらないでできる', '何かにつかまればできる', 'できない'],
                'type' => 'radio',
            ],
            '1-5' => [
                'title' => '背もたれのない椅子に10分程度座ることができますか。',
                'options' => ['できる', '自分の手で支えればできる', '支えてもらえればできる', 'できない'],
                'type' => 'radio',
            ],
            '1-6' => [
                'title' => 'どこにもつかまらずに10秒程度立っていることはできますか。',
                'options' => ['つかまらないでできる', '何かにつかまればできる', 'できない'],
                'type' => 'radio',
            ],
            '1-7' => [
                'title' => '５ｍ程度はつかまらずに歩くことはできますか',
                'options' => ['つかまらないでできる', '何かにつかまればできる', 'できない'],
                'type' => 'radio',
            ],
            '1-8' => [
                'title' => '椅子から立ち上がりができますか',
                'options' => ['つかまらないでできる', '何かにつかまればできる', 'できない'],
                'type' => 'radio',
            ],
            '1-9' => [
                'title' => '1秒程度、片足を上げることはできますか。',
                'options' => ['つかまらないでできる', '何かにつかまればできる', 'できない'],
                'type' => 'radio',
            ],
            '1-10' => [
                'title' => '入浴時に体は自分で洗うことができますか。',
                'options' => ['できる', 'できない所もある', 'できない', '入浴していない'],
                'type' => 'radio',
            ],
            '1-11' => [
                'title' => 'つめ切りを手足ともに自分でできていますか。',
                'options' => ['できる', 'できない所もある', 'できない', 'していない'],
                'type' => 'radio',
            ],
            '1-12' => [
                'title' => '目が見えにくくて生活に困ることはありますか。',
                'options' => ['生活に支障がない', '1mくらい離れた物は見える', '手に取れば見える', 'ほとんど見えない', '見えているのかわからない'],
                'type' => 'radio',
            ],
            '1-13' => [
                'title' => '耳が聞こえにくくて生活に困ることはありますか。',
                'options' => ['生活に支障がない', '普通の声がやっと聴き取れる', '大きな声なら聴き取れる', 'ほとんど聴こえない', '聴こえているのかわからない'],
                'type' => 'radio',
            ],
            // 第2群
            '2-1' => [
                'title' => 'いすからいすに一人で乗り移りができますか。',
                'options' => ['できる', 'できるが不安', '少し手を借りればできる', 'しっかり支えてもらえればできる'],
                'type' => 'radio',
            ],
            '2-2' => [
                'title' => '家の中は一人で移動ができますか。',
                'options' => ['できる', 'できるが不安', '少し手を借りればできる', 'しっかり支えてもらえればできる'],
                'type' => 'radio',
            ],
            '2-3' => [
                'title' => '食事の時､飲み込みはできますか。',
                'options' => ['できる', 'むせこむ事がある', 'できない'],
                'type' => 'radio',
            ],
            '2-4' => [
                'title' => '自分で食事はできますか。',
                'options' => ['できる', 'できるが不安', '少し手を借りればできる', '食べさせてもらっている'],
                'type' => 'radio',
            ],
            '2-5' => [
                'title' => 'トイレでの排尿動作は自分一人でできますか。',
                'options' => ['できる', 'できるが不安', '少し手を借りればできる', '手伝ってもらえばできる'],
                'type' => 'radio',
            ],
            '2-6' => [
                'title' => 'トイレでの排便は自分一人でできますか。',
                'options' => ['できる', 'できるが不安', '少し手を借りればできる', '手伝ってもらえばできる'],
                'type' => 'radio',
            ],
            '2-7' => [
                'title' => '歯磨きは自分一人でできますか。',
                'options' => ['できる', '少し手を借りればできる', '手伝ってもらえばできる'],
                'type' => 'radio',
            ],
            '2-8' => [
                'title' => '洗面所で洗顔ができますか。',
                'options' => ['できる', '少し手を借りればできる', '手伝ってもらえばできる'],
                'type' => 'radio',
            ],
            '2-9' => [
                'title' => '入浴後に自分で頭を拭くことができますか。',
                'options' => ['できる', '少し手を借りればできる', '手伝ってもらえばできる'],
                'type' => 'radio',
            ],
            '2-10' => [
                'title' => '上衣を一人で脱ぎ着できますか。',
                'options' => ['できる', '少し手を借りればできる', '手伝ってもらえばできる'],
                'type' => 'radio',
            ],
            '2-11' => [
                'title' => 'ズボンを一人で脱ぎ着できますか。',
                'options' => ['できる', '少し手を借りればできる', '手伝ってもらえばできる'],
                'type' => 'radio',
            ],
            '2-12' => [
                'title' => '買い物や散歩などで定期的に外出することはありますか。',
                'options' => ['週1回以上ある', '月1回以上ある', '月1回未満'],
                'type' => 'radio',
            ],
            // 第3群
            '3-1' => [
                'title' => '日頃から自分の意思を家族の方に伝えることはできますか。',
                'options' => ['意思を伝達できる', 'ときどき伝達できる', 'ほとんど伝達できない', 'できない'],
                'type' => 'radio',
            ],
            '3-2' => [
                'title' => '自分の毎日の日課を説明できますか｡',
                'options' => ['できる', 'できない'],
                'type' => 'radio',
            ],
            '3-3' => [
                'title' => '自分の生年月日や年齢を伝えることができますか｡',
                'options' => ['できる', 'できない'],
                'type' => 'radio',
            ],
            '3-4' => [
                'title' => '数時間前の自分の行動を説明できますか｡',
                'options' => ['できる', 'できない'],
                'type' => 'radio',
            ],
            '3-5' => [
                'title' => '自分の名前を伝えることができますか｡',
                'options' => ['できる', 'できない'],
                'type' => 'radio',
            ],
            '3-6' => [
                'title' => '今の季節を答えることができますか｡',
                'options' => ['できる', 'できない'],
                'type' => 'radio',
            ],
            '3-7' => [
                'title' => '自分のいる場所を理解し答えることができますか｡',
                'options' => ['できる', 'できない'],
                'type' => 'radio',
            ],
            '3-8' => [
                'title' => '目的もなく歩き続けることはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '3-9' => [
                'title' => '一人で出かけて、家に戻れなくなることはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            // 第4群
            '4-1' => [
                'title' => '「物を盗られた」などの被害的な話をすることがありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-2' => [
                'title' => '事実と違う話をすることがありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-3' => [
                'title' => '急に泣いたり、笑ったりして感情が不安定になることはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-4' => [
                'title' => '昼と夜の生活が逆転して、日中の行為を夜間に行っていることはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-5' => [
                'title' => '同じ話をしつこく繰り返すことはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-6' => [
                'title' => '周囲に迷惑となるような大声をだすことがありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-7' => [
                'title' => '介護しようとする時に、手を振り払って抵抗されることはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-8' => [
                'title' => '自宅にいても「家に帰りたい」と言って落ち着かなくなることはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-9' => [
                'title' => '一人で出たがり、目が離せないことはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-10' => [
                'title' => 'いろいろなものを集めたり、無断で持って来ることはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-11' => [
                'title' => '物や衣類を壊したり、破いてしまうことはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-12' => [
                'title' => '家族の方が何らかの対応をとらなければならい物忘れはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-13' => [
                'title' => '意味もなく独り言や独り笑いをすることはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-14' => [
                'title' => '自分勝手に行動をして家族を困らせることがありますか｡',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '4-15' => [
                'title' => '話の内容に一貫性がなく、会話にならないことはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            // 第5群
            '5-1' => [
                'title' => '薬や水の準備は自分でできますか。',
                'options' => ['できる', '少し手を借りればできる', '手伝ってもらえばできる'],
                'type' => 'radio',
            ],
            '5-2' => [
                'title' => '財布や通帳の管理は自分でできていますか。',
                'options' => ['できる', '少し手を借りればできる', '手伝ってもらえばできる'],
                'type' => 'radio',
            ],
            '5-3' => [
                'title' => '外出時に着る服は自分で決めることができますか。',
                'options' => ['できる', '特別な場合を除いてできる', 'ほぼできない', 'できない'],
                'type' => 'radio',
            ],
            '5-4' => [
                'title' => '家族以外の集まりに参加することを強く拒否したり適応できないことはありますか。',
                'options' => ['ない', '月2から3回ほどある', '毎日のようにある'],
                'type' => 'radio',
            ],
            '5-5' => [
                'title' => '家族の方と買い物に行く時に自分で商品の選択や支払いができますか。',
                'options' => ['できる', 'できるが不安', '少し手を借りればできる', '手伝ってもらえばできる'],
                'type' => 'radio',
            ],
            '5-6' => [
                'title' => '毎日の食事の準備を自分でできますか。',
                'options' => ['できる', 'できるが不安', '少し手を借りればできる', '手伝ってもらえばできる'],
                'type' => 'radio',
            ],
            // 第6群
            '6-1' => [
                'title' => '処置内容',
                'options' => ['点滴の管理', '中心静脈栄養', '透析', 'ストーマ（人工肛門）の処置', '酸素両方', 'レスピレーター（人工呼吸器）', '気管切開の処置', '疼痛の看護', '経管栄養'],
                'type' => 'checkbox',
            ],
            '6-2' => [
                'title' => '特別な医療行為',
                'options' => ['モニター測定（血圧・心拍・酸素飽和度等）', 'じょくそうの処置', 'カテーテル（コンドームカテーテル・留置カテーテル・ウロストーマ等）'],
                'type' => 'checkbox',
            ],
            // 第7群
            '7-1' => [
                'title' => '障害高齢者自立度',
                'options' => ['自立', 'J1', 'J2', 'A1', 'A2', 'B1', 'B2', 'C1', 'C2', 'わからない'],
                'type' => 'radio',
            ],
            '7-2' => [
                'title' => '認知症高齢者自立度',
                'options' => ['自立', 'Ⅰ', 'Ⅱa', 'Ⅱb', 'Ⅲa', 'Ⅲb', 'Ⅳ', 'M', 'わからない'],
                'type' => 'radio',
            ],
            // 第8群
            '8-1' => [
                'title' => '日常の意思決定を行うための認知能力',
                'options' => ['わからない', '自立', 'いくらか困難', '見守りが必要', '判断できない'],
                'type' => 'radio',
            ],
            '8-2' => [
                'title' => '自分の意思の伝達力',
                'options' => ['わからない', '自立', 'いくらか困難', '具体的要求に限られる', '伝えられない'],
                'type' => 'radio',
            ],
            '8-3' => [
                'title' => '短期記憶',
                'options' => ['わからない', '問題なし', '問題あり'],
                'type' => 'radio',
            ],
            '8-4' => [
                'title' => '食事自己動作',
                'options' => ['わからない', '自立', 'なんとか自分で食べられる', '全面介助'],
                'type' => 'radio',
            ],
            '8-5' => [
                'title' => '認知症高齢者の日常生活自立度',
                'options' => ['わからない', '自立', 'Ⅰ', 'Ⅱa', 'Ⅱb', 'Ⅲa', 'Ⅳ', 'M', '記載無し'],
                'type' => 'radio',
            ],
        ];
    }

    /**
     * 特定のグループに属する調査項目を取得
     * 
     * @param int $groupId グループID
     * @return array 指定したグループに属する調査項目の配列
     */
    public static function getQuestionsByGroup(int $groupId): array
    {
        $groupPrefix = $groupId . '-';
        $questions = [];

        foreach (self::getAllQuestions() as $key => $question) {
            if (str_starts_with($key, $groupPrefix)) {
                $questions[$key] = $question;
            }
        }

        return $questions;
    }

    /**
     * 中間得点データを取得する
     * 
     * @return array 中間得点データ
     */
    public static function getIntermediateScores(): array
    {
        return self::$intermediateScores;
    }

    /**
     * 特定の質問と回答に対応する中間得点を取得する
     * 
     * @param string $questionId 質問ID
     * @param string|array $answer 回答内容
     * @return float|null 中間得点（該当する得点がない場合はnull）
     */
    public static function getIntermediateScore(string $questionId, $answer): ?float
    {
        // チェックボックス（複数選択）の場合は特殊処理
        if (is_array($answer)) {
            // 麻痺の特殊処理
            if ($questionId === '1-1') {
                return self::calculateParalysisScore($answer);
            }
            // 拘縮の特殊処理
            else if ($questionId === '1-2') {
                return self::calculateContractionScore($answer);
            }
            // その他のチェックボックス項目は現時点では未実装
            return null;
        }
        // ラジオボタン（単一選択）の場合
        else {
            if (isset(self::$intermediateScores[$questionId][$answer])) {
                return self::$intermediateScores[$questionId][$answer];
            }
        }

        return null;
    }

    /**
     * 麻痺の中間得点を計算する
     * 
     * @param array $selectedOptions 選択された麻痺の部位
     * @return float 麻痺の中間得点
     */
    private static function calculateParalysisScore(array $selectedOptions): float
    {
        // 選択肢がない、または「ない」が選択されている場合は「麻痺なし」として扱う
        if (empty($selectedOptions) || in_array('ない', $selectedOptions)) {
            return self::$intermediateScores['1-1']['ない'];
        }

        // 「欠損している」が選択されている場合
        if (in_array('欠損している', $selectedOptions)) {
            return self::$intermediateScores['1-1']['その他の四肢の麻痺'];
        }

        // 左手と左足、または右手と右足が選択されている場合
        if ((in_array('左手', $selectedOptions) && in_array('左足', $selectedOptions)) ||
            (in_array('右手', $selectedOptions) && in_array('右足', $selectedOptions))
        ) {
            return self::$intermediateScores['1-1']['左上下肢あるいは右上下肢'];
        }

        // 両足が選択されている場合
        if (in_array('左足', $selectedOptions) && in_array('右足', $selectedOptions)) {
            return self::$intermediateScores['1-1']['両下肢のみ'];
        }

        // いずれか一肢のみ選択されている場合
        if (count($selectedOptions) === 1) {
            return self::$intermediateScores['1-1']['いずれか一肢のみ'];
        }

        // その他の組み合わせの場合（複数の麻痺があるが特定のパターンに当てはまらない）
        return self::$intermediateScores['1-1']['その他の四肢の麻痺'];
    }

    /**
     * 拘縮の中間得点を計算する
     * 
     * @param array $selectedOptions 選択された拘縮の部位
     * @return float 拘縮の中間得点
     */
    private static function calculateContractionScore(array $selectedOptions): float
    {
        $score = 0;

        // 肩関節の拘縮がない場合
        if (!in_array('肩関節', $selectedOptions)) {
            $score += self::$intermediateScores['1-2_肩関節']['ない'];
        }

        // 股関節の拘縮がない場合
        if (!in_array('股関節', $selectedOptions)) {
            $score += self::$intermediateScores['1-2_股関節']['ない'];
        }

        // 膝関節の拘縮がない場合
        if (!in_array('膝関節', $selectedOptions)) {
            $score += self::$intermediateScores['1-2_膝関節']['ない'];
        }

        return $score;
    }
}
